# Лабораторная работа №3  
**Гибридная защита: симметричное шифрование + стеганография в изображениях**

Лабораторная выполняется на основе результатов работ 1 (симметричное шифрование) и 2 (стеганография LSB).

## 1. Цель работы

Закрепить навыки работы с методами защиты информации, совмещая криптографию и стеганографию. Реализовать программный модуль, который:

- шифрует текстовое сообщение симметричным алгоритмом
- встраивает зашифрованные данные в изображение методом LSB по псевдослучайно выбранным пикселям
- обеспечивает корректное извлечение и расшифровку сообщения по паролю
- позволяет сравнить простой LSB и модифицированный вариант по незаметности

## 2. Постановка задачи

Требуется разработать программу, реализующую гибридную схему защиты информации:

1. **Шифрование сообщения**
   - Пользователь задает:
     - файл с исходным текстовым сообщением
     - пароль
   - На основе пароля получается ключ симметричного шифрования  
     (например, через KDF; алгоритм любой, рекомендуется AES-128)
   - Генерируется случайный вектор инициализации (IV), если это необходимо для выбранного режима
   - Сообщение шифруется, на выходе получается зашифрованный блок данных (ciphertext)
   - В зашифрованные данные добавляется служебная информация, необходимая для последующей расшифровки  
     (минимум — длина ciphertext и IV)

2. **Встраивание шифртекста в изображение (стеганография LSB + псевдослучайные позиции)**
   - Пользователь указывает:
     - исходное изображение-контейнер
     - имя файла для сохранения стегоизображения
   - На основе пароля (или ключа) инициализируется генератор псевдослучайных чисел
   - По генератору выбираются позиции пикселей (и/или цветовых каналов), в которые будут записаны биты зашифрованных данных
   - Биты зашифрованного сообщения последовательно встраиваются в младшие биты выбранных компонент пикселей (LSB)
   - В результате формируется стегоизображение, содержащие зашифрованное сообщение

3. **Извлечение и расшифровка**
   - Пользователь подает:
     - стегоизображение
     - пароль
   - По тому же паролю инициализируется тот же генератор псевдослучайных чисел, восстанавливается последовательность позиций.
   - Из соответствующих пикселей считываются биты, собирается зашифрованный блок данных
   - На основе пароля снова строится ключ, выполняется расшифровка
   - Результат сохраняется в текстовый файл; должно восстанавливаться исходное сообщение

4. **Сравнение с простым LSB**
   - Для одного и того же исходного изображения и одного и того же сообщения:
     - реализовать встраивание:
       - а) простым LSB
       - б) гибридным способом (шифрование + псевдослучайные позиции).
   - Сравнить незаметность:
     - хотя бы на уровне визуального сравнения и простых метрик (например, количество измененных пикселей, распределение младших бит, гистограммы/PSNR).
   - Оформить краткий вывод, какой метод менее заметен и почему.


## 3. Доп

В качестве дополнительного задания (для повышения оценки) требуется:

- создать `Dockerfile` для сборки образа с реализованной программой
- установить внутри контейнера необходимые зависимости
- настроить команду запуска так, чтобы можно было вызывать основные режимы программы (встраивание / извлечение) через `docker run`.

Достаточно, чтобы контейнер позволял работать с файлами на хосте (например, через подключение директории с изображениями и текстовыми файлами)
